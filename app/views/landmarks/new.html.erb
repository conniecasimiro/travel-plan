<div id="container-flex">
  <div class="container-width" id="bg-blue" data-controller="add-method">
       <%# <%= link_to trip_path(@trip), data: { turbo_method: :delete, turbo_confirm: 'Are you certain you want to delete this?' }, class: "fa-solid fa-delete-left"%>
      <h1>Step Three</h1>
      <%# <% @trip.routes.last.landmarks.each do |x| %>
      <%# <p><%=  x.title  %>
      <%# <% end %>

      <% if @trip.routes.count == 1 %>
        <h5>Please add at least one landmark or highlight from time in:</h5>
        <div class="create-route">
          <div class="create-icon">
            <img src="<%= @route_icons[@route.method.to_sym.downcase] %>">
          </div>
          <p>Location: </p>
          <p><strong> <%= @route.destination %></strong></p>
        </div>
        <div class="add-travel" data-add-method-target="button">
          <h2>Add landmark</h2>
          <i class="fa-solid fa-circle-plus" data-action="click->add-method#displayForm"></i>
        </div>
        <div class="d-none" data-add-method-target="form">
          <%= simple_form_for([@trip, @route, @landmark]) do |f| %>
          <%= f.input :title, label: "Name"%>
          <%= f.input :description, label: "Description"%>
          <%= f.input :location, label: "Landmark address"%>
          <%= f.input :photo, label: "Photo", as: :file%>
          <%= f.submit 'Add Landmark', class: "btn btn-flat mb-4"%>
          <% end %>
        </div>
        <% if @route.landmarks.count > 0 %>
          <a><%= link_to "Create trip!", trip_path(@trip), class: "btn btn-light mb-4" %></a>
        <% end %>
      <% else %>
        <h5>Please add at least one landmark or highlight from time in:</h5>
        <div class="create-route">
          <div class="create-icon">
            <img src="<%= @route_icons[@route.method.to_sym.downcase] %>">
          </div>
          <p>Location: </p>
          <p><strong> <%= @route.destination %></strong></p>
        </div>
        <div class="add-travel" data-add-method-target="button">
          <h2>Add landmark</h2>
          <i class="fa-solid fa-circle-plus" data-action="click->add-method#displayForm"></i>
        </div>
        <div class="d-none" data-add-method-target="form">
          <%= simple_form_for([@trip, @route, @landmark]) do |f| %>
          <%= f.input :title, label: "Name"%>
          <%= f.input :description, label: "Description"%>
          <%= f.input :location, label: "Landmark address"%>
          <%= f.input :photo, label: "Photo", as: :file%>
          <%= f.submit 'Add Landmark', class: "btn btn-flat mb-4"%>
          <% end %>
        </div>
          <% if @route.landmarks.count > 0 && @trip.routes.select { |route| route.landmarks.empty? }.empty? != true %>
            <p>Or, if you dont want to add any more landmarks</p>
            <% @route = @trip.routes.select { |route| route.landmarks.empty? }.first %>
            <a><%= link_to "Complete leg", new_trip_route_landmark_path(@trip, @route), class: "btn btn-flat mb-4" %></a>
          <% end %>
          <% if @trip.routes.select { |route| route.landmarks.empty? }.empty?%>
            <a><%= link_to "Create trip!", trip_path(@trip), class: "btn btn-flat mb-4" %></a>
          <% end %>

      <% end %>
  </div>
  <div class="container-width" id="bg-light-blue">
    <h1>Add your landmarks!</h1>
    <h2>Create some landmarks for each destination of your trip.</h2>
    <div class="create-flex">
      <i class="fa-solid fa-circle"></i>
      <i class="fa-solid fa-circle"></i>
      <i class="fa-solid fa-circle" id="grey-icon"></i>
    </div>
    <img src="https://res.cloudinary.com/dblvfwtds/image/upload/v1669814162/image_3_cfsxtc.png">
  </div>
</div>
